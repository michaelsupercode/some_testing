!function(a){"use strict";a.fn.elegantTextRotator=function(b){return this.each(function(){var c=a(this),d=c.data("textrotator");void 0!==d&&(clearTimeout(d.tTO),clearTimeout(d.dTO),c.removeData("textrotator")),c.data("textrotator",new a.elegantTextRotator(c,b))})},a.elegantTextRotator=function(b,c){this.d={delay:4e3},this.s=a.extend({},this.d,c),this.el=b,this.currentText=0,this._init()},a.elegantTextRotator.prototype={_init:function(){var a=this,b=0;for(this.currentText=0,this.textArray=[],this.stringLength="",this.rotatingTexts=this.el.find(".elegant-rotating-text-wrap"),this.rotatingTexts[this.currentText].style.opacity=1,b=0;b<this.rotatingTexts.length;b++)this.stringLength=""==this.stringLength||this.stringLength<this.rotatingTexts[b].clientWidth?this.rotatingTexts[b].clientWidth:this.stringLength,this._splitLetters(this.rotatingTexts[b]);this.el.css("margin-right",this.stringLength+10+"px"),this._changeText(),setInterval(function(){return a._changeText()},a.s.delay)},_animateLetterOut:function(a,b){setTimeout(function(){a[b].className="rotating-text rotate-out"},80*b)},_animateLetterIn:function(a,b){setTimeout(function(){a[b].className="rotating-text rotate-in"},340+80*b)},_splitLetters:function(b){var c=a(b).text(),d=[],e="",f=0;for(b.innerHTML="",a(b).html(""),f=0;f<c.length;f++)e=document.createElement("span"),e.className="rotating-text",e.innerHTML=" "!==c.charAt(f)?c.charAt(f):"&nbsp;",b.appendChild(e),d.push(e);this.textArray.push(d)},_changeText:function(){var a=this.textArray,b=a[this.currentText],c=this.currentText==a.length-1?a[0]:a[this.currentText+1],d=0;for(d=0;d<b.length;d++)this._animateLetterOut(b,d);for(d=0;d<c.length;d++)c[d].className="rotating-text rotate-behind",c[0].parentElement&&(c[0].parentElement.style.opacity=1),this._animateLetterIn(c,d);this.currentText=this.currentText==a.length-1?0:this.currentText+1}},jQuery(document).ready(function(){var a,b=jQuery(".elegant-rotating-text");jQuery.each(b,function(){a=jQuery(this).data("delay"),jQuery(this).elegantTextRotator({delay:a})})}),jQuery(document).on("fusion-element-render-iee_rotating_text",function(a,b){var c=jQuery(".elegant-rotating-text-"+b).data("delay");a.preventDefault(),setTimeout(function(){jQuery(".elegant-rotating-text-"+b).elegantTextRotator({delay:c})},500)})}(jQuery);