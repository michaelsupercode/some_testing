!function(a){"use strict";var b=jQuery(document);a.fn.elegantTypeWriter=function(b){return this.each(function(){var c=a(this),d=c.data("typewriter");void 0!==d&&(clearTimeout(d.tTO),clearTimeout(d.dTO),c.removeData("typewriter")),c.data("typewriter",new a.elegantTypeWriter(c,b))})},a.elegantTypeWriter=function(b,c){this.d={strings:[],speed:100,deleteSpeed:void 0,lifeLike:!0,cursor:!0,cursorSpeed:1e3,breakLines:!0,breakDelay:750,deleteDelay:750,startDelay:250,startDelete:!1,loop:!1,loopDelay:750,html:!0,autoStart:!0},this.queue=[],this.queueIndex=0,this.hasStarted=!1,this.inTag=!1,this.stringsToDelete="",this.style='style="display:inline;position:relative;font:inherit;color:inherit;"',this.s=a.extend({},this.d,c),this.el=b,this._init()},a.elegantTypeWriter.prototype={_init:function(){this.el.find(".ti-container, .ti-cursor, .ti-placeholder").remove(),this._elCheck(),this.s.strings=this._toArray(this.s.strings),this.el.html('<i class="ti-placeholder" style="display:inline-block;width:0;line-height:0;overflow:hidden;">.</i><span '+this.style+' class="ti-container"></span>'),this.tel=this.el.find("span"),this.insert=function(a){this.tel.append(a)},this.s.startDelete&&(this.tel.html(this.stringsToDelete),this.queue.push([this.delete])),this._generateQueue(),this._kickoff()},_kickoff:function(){this._cursor(),this.s.autoStart?this._startQueue():this._isVisible()?(this.hasStarted=!0,this._startQueue()):b.on("scroll",function(){this._isVisible()&&!this.hasStarted&&(this.hasStarted=!0,this._startQueue())}.bind(this))},_generateQueue:function(){var a=0,b="",c="";for(a=0;a<this.s.strings.length;a++)this.queue.push([this.type,this.s.strings[a]]),a<this.s.strings.length-1&&(b=this.queue.length,c=this.s.breakLines?this.s.breakDelay:this.s.deleteDelay,this.queue.push([this.s.breakLines?this.break:this.delete]),this.queue.splice(b,0,[this.pause,c/2]),this.queue.splice(b+2,0,[this.pause,c/2]))},_startQueue:function(){this._to(function(){this._executeQueue()}.bind(this),this.s.startDelay)},type:function(a,b){b=void 0===b||b,a=this._toArray(a),b&&(a=this._rake(a),a=a[0]),this.tTO=setTimeout(function(){var b=0;if(this._setPace(this),this.s.html&&-1!==a[0].indexOf("<")&&-1===a[0].indexOf("</")&&!this.inTag){for(b=a.length-1;0<=b;b--)-1!==a[b].indexOf("</")&&(this.tagCount=1,this.tagDuration=b);this._makeNode(a[0])}else this._print(a[0]);a.splice(0,1),a.length?this.type(a,!1):this._executeQueue()}.bind(this),this.typePace)},pause:function(a){a=void 0===a?this.s.breakDelay:a,this._to(function(){this._executeQueue()}.bind(this),a)},break:function(){this.insert("<br>"),this._executeQueue()},mergeSet:function(b){this.s=a.extend({},this.s,b),this._executeQueue()},_print:function(b){this.inTag?(a(this.tag,this.el).last().append(b),this.tagCount<this.tagDuration?this.tagCount++:this.inTag=!1):this.insert(b)},empty:function(){this.tel.html(""),this._executeQueue()},delete:function(a){this.deleteTimeout=setTimeout(function(){this._setPace();for(var b=this.tel.html().split(""),c=void 0===a||null===a?b.length-1:a+1,d=b.length-1;d>-1;d--){if(">"!==b[d]&&";"!==b[d]||!this.s.html){b.pop();break}for(var e=d;e>-1;e--){if("<br>"===b.slice(e-3,e+1).join("")){b.splice(e-3,4);break}if("&"===b[e]){b.splice(e,d-e+1);break}if("<"===b[e]&&">"!==b[e-1]){if(";"===b[e-1])for(var f=e-1;f>-1;f--)if("&"===b[f]){b.splice(f,e-f);break}b.splice(e-1,1);break}}break}if(this.tel.html().indexOf("></")>-1)for(var g=this.tel.html().indexOf("></")-2;g>=0;g--)if("<"===b[g]){b.splice(g,b.length-g);break}this.tel.html(b.join("")),c>(void 0===a?0:2)?this.delete(void 0===a?void 0:a-1):this._executeQueue()}.bind(this),this.deletePace)},_isVisible:function(){var b=a(window),c={top:b.scrollTop(),left:b.scrollLeft()};c.right=c.left+b.width(),c.bottom=c.top+b.height();var d=this.el.outerHeight(),e=this.el.outerWidth();if(!e||!d)return!1;var f=this.el.offset();if(f.right=f.left+e,f.bottom=f.top+d,!!(c.right<f.left||c.left>f.right||c.bottom<f.top||c.top>f.bottom))return!1;var g={top:Math.min(1,(f.bottom-c.top)/d),bottom:Math.min(1,(c.bottom-f.top)/d),left:Math.min(1,(f.right-c.left)/e),right:Math.min(1,(c.right-f.left)/e)};return g.left*g.right>=1&&g.top*g.bottom>=1},_executeQueue:function(){if(this.queueIndex<this.queue.length){var a=this.queue[this.queueIndex];this.queueIndex++,this.isLooping&&1===this.queueIndex?this._to(function(){a[0].bind(this)(a[1])}.bind(this),this.s.loopDelay/2):a[0].bind(this)(a[1])}else this.s.loop&&(this.queueIndex=0,this.isLooping=!0,this._to(function(){this.delete()}.bind(this),this.s.loopDelay/2))},_to:function(a,b){setTimeout(function(){a()}.bind(this),b)},_elCheck:function(){!this.s.startDelete&&this.el.html().replace(/(\r\n|\n|\r)/gm,"").length>0?this.s.strings=this.el.html().trim():this.s.startDelete&&(this.stringsToDelete=this.el.html())},_toArray:function(a){return a.constructor===Array?a.slice(0):a.split("<br>")},_cursor:function(){var a="",b="";this.s.cursor&&(this.el.append("<span "+this.style+'class="ti-cursor">|</span>'),a=this.s.cursorSpeed,b=this,function c(){b.el.find(".ti-cursor").fadeTo(a/2,0).fadeTo(a/2,1),b._to(c,a)}())},_setPace:function(){var a=this.s.speed,b=void 0!==this.s.deleteSpeed?this.s.deleteSpeed:this.s.speed/3,c=a/2,d=b/2;this.typePace=this.s.lifeLike?this._randomInRange(a,c):a,this.deletePace=this.s.lifeLike?this._randomInRange(b,d):b},_randomInRange:function(a,b){return Math.abs(Math.random()*(a+b-(a-b))+(a-b))},_rake:function(a){for(var b=0;b<a.length;b++)if(a[b]=a[b].split(""),this.s.html){this.tPos=[];for(var c,d=this.tPos,e=!1,f=0;f<a[b].length;f++)"<"!==a[b][f]&&"&"!==a[b][f]||(d[0]=f,e="&"===a[b][f]),(">"===a[b][f]||";"===a[b][f]&&e)&&(d[1]=f,f=0,c=a[b].slice(d[0],d[1]+1).join(""),a[b].splice(d[0],d[1]-d[0]+1,c),e=!1)}return a},_makeNode:function(b){this.tag=a(a.parseHTML(b)),this._print(this.tag),this.inTag=!0}},a.fn.twType=function(c){var d=a(this).data("typewriter");return void 0===d?b:(d.queue.push([d.type,c]),this)},a.fn.twEmpty=function(){var c=a(this).data("typewriter");return void 0===c?b:(c.queue.push([c.empty]),this)},a.fn.twDelete=function(c){var d=a(this).data("typewriter");return void 0===d?b:(d.queue.push([d.delete,c]),this)},a.fn.twPause=function(c){var d=a(this).data("typewriter");return void 0===d?b:(d.queue.push([d.pause,c]),this)},a.fn.twBreak=function(){var c=a(this).data("typewriter");return void 0===c?b:(c.queue.push([c.break]),this)},a.fn.twSettings=function(c){var d=a(this).data("typewriter");return void 0===d?b:(d.queue.push([d.mergeSet,c]),this)},jQuery(document).ready(function(){var a=jQuery(".elegant-typewriter-text"),b="",c=!1,d="",e=[];a.each(function(a,f){e=[],b=jQuery(this).data("counter"),c=jQuery(this).data("loop"),d=jQuery(this).find(".elegant-typewriter-text-wrap"),jQuery.each(d,function(a,b){e.push(jQuery(b).prop("outerHTML"))}),jQuery("#"+b).elegantTypeWriter({strings:e,speed:100,html:!0,breakLines:!1,autoStart:!1,loop:"yes"===c})})}),jQuery(document).on("fusion-element-render-iee_typewriter_text",function(a,b){var c=jQuery(".elegant-typewriter-text-"+b),d="",e=!1,f="",g=[];a.preventDefault(),setTimeout(function(){d=c.data("counter"),e=c.data("loop"),f=c.find(".elegant-typewriter-text-wrap"),jQuery.each(f,function(a,b){g.push(jQuery(b).prop("outerHTML"))}),jQuery("#"+d).elegantTypeWriter({strings:g,speed:100,html:!0,breakLines:!1,autoStart:!1,loop:e})},500)})}(jQuery);