function checkPosition(a){jQuery(window).scrollTop()+.5*jQuery(window).height()>a.offset().top&&a.addClass("is-visible")}function drags(a,b,c,d,e){a.on("mousedown vmousedown",function(f){var g,h,i=a.outerWidth(),j=a.offset().left+i-f.pageX,k=c.offset().left,l=c.outerWidth(),m=k-20,n=k+l-i+20;a.addClass("draggable"),b.addClass("resizable"),a.parents().on("mousemove vmousemove",function(a){g=a.pageX+j-i,g<m?g=m:g>n&&(g=n),h=100*(g+i/2-k)/l+"%",jQuery(".draggable").css("left",h).on("mouseup vmouseup",function(){jQuery(this).removeClass("draggable"),b.removeClass("resizable")}),jQuery(".resizable").css("width",h),updateLabel(e,b,"left"),updateLabel(d,b,"right")}).on("mouseup vmouseup",function(){a.removeClass("draggable"),b.removeClass("resizable")}),f.preventDefault()}).on("mouseup vmouseup",function(){a.removeClass("draggable"),b.removeClass("resizable")})}function updateLabel(a,b,c){"left"==c?a.offset().left+a.outerWidth()<b.offset().left+b.outerWidth()?a.removeClass("is-hidden"):a.addClass("is-hidden"):a.offset().left>b.offset().left+b.outerWidth()?a.removeClass("is-hidden"):a.addClass("is-hidden")}jQuery(document).ready(function(a){a(".elegant-image-compare-container").each(function(){var b=a(this);checkPosition(b),a(window).on("scroll",function(){checkPosition(b)}),drags(b.find(".elegant-image-compare-handle"),b.find(".elegant-image-compare-after-image"),b,b.find('.elegant-image-compare-label[data-type="original"]'),b.find('.elegant-image-compare-label[data-type="modified"]'))})});